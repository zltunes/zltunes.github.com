<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>机器人操作系统（ROS/Android）对比 | zltunes</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><link rel="stylesheet" type="text/css" href="/css/code-number.css?v=0.0.0"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="/js/code-number.js?v=0.0.0"></script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">机器人操作系统（ROS/Android）对比</h1><a id="logo" href="/.">zltunes</a><p class="description">赵磊的博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/work/"><i class="fa fa-building"> 作品</i></a><a href="/resume/resume.pdf"><i class="fa fa-file"> 简历</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">机器人操作系统（ROS/Android）对比</h1><div class="post-meta">Jun 13, 2018<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ROS"><span class="toc-number">1.</span> <span class="toc-text">ROS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#基本框架和概念"><span class="toc-number">2.</span> <span class="toc-text">基本框架和概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#开源项目"><span class="toc-number">2.1.</span> <span class="toc-text">开源项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三个级别"><span class="toc-number">2.2.</span> <span class="toc-text">三个级别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#计算图级"><span class="toc-number">2.2.1.</span> <span class="toc-text">计算图级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件系统级"><span class="toc-number">2.2.2.</span> <span class="toc-text">文件系统级</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对ros的一些理解"><span class="toc-number">2.3.</span> <span class="toc-text">对ros的一些理解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#基于安卓系统的机器人开发"><span class="toc-number">3.</span> <span class="toc-text">基于安卓系统的机器人开发</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#对比"><span class="toc-number">4.</span> <span class="toc-text">对比</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#其他机器人系统"><span class="toc-number">5.</span> <span class="toc-text">其他机器人系统</span></a></li></ol></div></div><div class="post-content"><p>目前很多互联网公司都在开发自己的硬件产品（小米的小爱同学，腾讯听听音箱、叮当等），包括深圳这边一家非常有名的人形机器人公司<a href="https://www.ubtrobot.com/cn/" target="_blank" rel="noopener">优必选</a>，有的机器人产品注重屏幕和交互，有的则注重路径、物体、语音及人脸识别等高级算法，除了安卓，还有不少人形机器人是基于 ROS 开发的。<br><a id="more"></a></p>
<h1 id="ROS"><a href="#ROS" class="headerlink" title="ROS"></a>ROS</h1><p>ROS(Robot Operating System) 是一个在计算机上对机器人进行操作的一个开源系统（严格来讲是一种操作系统中间件）。它提供类似操作系统所提供的功能，包含硬件抽象描述、底层驱动程序管理、共用功能的执行、程序间的消息传递、程序发行包管理，它也提供一些工具程序和库用于获取、建立、编写和运行多机整合的程序。支持多种语言，C++、Python、Octave和LISP，也支持多种语言混合使用。</p>
<h1 id="基本框架和概念"><a href="#基本框架和概念" class="headerlink" title="基本框架和概念"></a>基本框架和概念</h1><h2 id="开源项目"><a href="#开源项目" class="headerlink" title="开源项目"></a>开源项目</h2><ul>
<li>main：核心部分，提供一些分布式计算的基本工具，以及整个ROS的核心部分。</li>
<li>universe：一种是库的代码，如OpenCV、PCL等；库的上一层是从功能角度提供的代码，如人脸识别，他们调用下层的库；最上层的代码是应用级的代码，让机器人完成某一确定的功能。</li>
</ul>
<h2 id="三个级别"><a href="#三个级别" class="headerlink" title="三个级别"></a>三个级别</h2><p>计算图级—&gt;文件系统级—&gt;社区级。</p>
<h3 id="计算图级"><a href="#计算图级" class="headerlink" title="计算图级"></a>计算图级</h3><p>计算图是ROS处理数据的一种点对点的网络形式。程序运行时，所有进程以及他们所进行的数据处理，将会通过一种点对点的网络形式表现出来。<br><img src="http://images.ncnynl.com/ros/2016/1365775358_7354.png" alt=""></p>
<ul>
<li>节点：执行运算任务的进程。</li>
<li>消息：节点之间是通过传送消息进行通讯的（标准数据类型或嵌套结构和数组）。</li>
<li>主题：消息以一种发布/订阅的方式传递。一个节点可以在一个给定的主题中发布消息。一个节点针对某个主题关注与订阅特定类型的数据。<br><img src="http://images.ncnynl.com/ros/2016/1365775624_5015.png" alt=""></li>
<li>服务：主题是广播式的。单播（同步传输模式）用服务，服务以一个字符串和一对严格规范的消息定义：一个用于请求，一个用于回应。</li>
<li>ROS 控制器：给ROS的节点存储了主题和服务的注册信息，是一个超级管理员，管理系统中所有节点，包括节点之间的相互通信。</li>
</ul>
<p>ROS 系统基本结构：<br><img src="http://seuzl.qiniudn.com/md/1528968266278.png" alt=""><br>举例：机器人上有一个摄像头，我们希望能够从机器人图像处理单元以及另外一台计算机上观察摄像头的图像。<br><img src="http://seuzl.qiniudn.com/md/1528968276924.png" alt=""></p>
<ol>
<li>需要一个管理员 ROS Master 管理整个系统，然后建立三个节点，分别是摄像头节点、机器人中的图像处理节点以及计算机上的显示节点。</li>
<li>在ROS Master的管理下，摄像头节点(Camera Node)发起一个主题(Topic)发送图像信息，同时，另外两个节点订阅这个主题(Topic)。</li>
<li>当摄像头节点从摄像头获得一帧新的图像时，它将立刻将获得的图像发送给另外两个节点（基于TCP/IP）。</li>
<li>如果机器人图像处理节点需要在某一个特定的时刻向摄像头节点请求一个信息，这种情况采用服务。图像处理节点可以告诉ROS Master，我需要向摄像头节点请求一项服务，然后ROS Master 将在摄像头节点和图像处理节点之间建立一个请求服务/应答的联系通道。图像处理节点将首先请求图像信息，然后摄像头节点将收集所需要的信息发送给图像处理节点。<br><img src="http://seuzl.qiniudn.com/md/1528968292485.png" alt=""></li>
</ol>
<h3 id="文件系统级"><a href="#文件系统级" class="headerlink" title="文件系统级"></a>文件系统级</h3><p>在硬盘上面查看的ROS源代码的组织形式。<br><img src="http://images.ncnynl.com/ros/2016/1365776297_4808.png" alt=""><br>ROS的软件以包的方式组织起来。包包含节点、ROS依赖库、数据套、配置文件、第三方软件、或者任何其他逻辑构成。<br>堆是包的集合，它提供一个完整的功能，像“navigation stack”。<br><img src="http://images.ncnynl.com/ros/2016/1365776550_5049.png" alt=""></p>
<h2 id="对ros的一些理解"><a href="#对ros的一些理解" class="headerlink" title="对ros的一些理解"></a>对ros的一些理解</h2><p>根据<a href="http://courses.cs.washington.edu/courses/cse466/11au/calendar/ros_cc_1_intro-jrsedit.pdf" target="_blank" rel="noopener">这个教程</a>，ROS 虽然号称是操作系统，但实际并不是传统意义上的操作系统。它只是一个通信的架构、一个代码管理的框架。操作系统的功能：任务的时序规划和CPU资源分配等等工作都是依靠linux来实现的，因此ROS不可能脱离linux，他们是一体的。</p>
<p>机器人的核心平台——多传感器和处理器之间的通信、处理器和执行器之间的通信，这些通信必须有统一的时钟，比如做传感器数据融合，如果从传感器抓回来的数据时间上都不同步，那融合根本没法做。ROS的通信架构，主要解决的就是这个问题：让设备之间的通信有一个统一的调度中枢(roscore)，通过这个调度中枢不但可以让信号传递更好控制，还能够通过构建通信设备之间的关系来让开发者明白自己的机器人内部在干什么。</p>
<p>综上总结：我们可以把ros理解成一套基于Linux的能够协调各种传感器和CPU工作的开发框架。</p>
<h1 id="基于安卓系统的机器人开发"><a href="#基于安卓系统的机器人开发" class="headerlink" title="基于安卓系统的机器人开发"></a>基于安卓系统的机器人开发</h1><p>在安卓进行机器人开发没有像在 Ubuntu 上ROS一样被广泛使用的开发框架。从网上看到的一些例子来看，基于安卓的机器人开发主要涉及以下内容：</p>
<ul>
<li>硬件平台：器件选型以及主要运动模块的制作和实现。</li>
<li>软件平台：Linux 内核和<br>Android 操作系统在实体机上的编译，往实验平台上烧写在实体<br>机中编译的 Linux 内核镜像和 Android 操作系统镜像。</li>
<li>针对实际需要对实验平台的硬件接口进行功能重设：设计编写硬件驱动程序，并将其在 Linux 内核中进行编译识别，最后为新编译的驱动设计编写硬件驱动层和硬件访问服务层的实现程序，使得 Android 应用程序中能够使用这些硬件。</li>
<li>安卓应用程序开发。可以是开发板应用软件，也可以有远程控制端软件，实现对机器人的运动控制。</li>
</ul>
<h1 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h1><ol>
<li>Ubuntu 和 Android 都可以看做基于Linux内核的不同版本。Ubuntu是机器人领域里开发最受欢迎的一个版本，就是因为ROS。80%的ROS都是运行在Ubuntu上的。从官方信息看，ros移植到安卓上是可行的，官网也有一些不成熟的教程。（有人做了这样的尝试：<a href="https://en.wikipedia.org/wiki/Robot_Operating_System" target="_blank" rel="noopener">文章来源</a>）。<blockquote>
<p>The native Java ROS client library, rosjava, has enabled ROS-based software to be written for the Android OS.</p>
</blockquote>
</li>
<li>ROS能够支持多种语言，如C++、python、Octave和LISP，甚至支持多种语言混合使用。Android支持Java和C++（NDK层）。</li>
<li>如果只是一个交互，像触摸屏，让它发声，Android是没有问题的，但如果让机器人做人脸、声音、路径识别，这些算法自己来实现是很困难的，而ros有很多人会把库贡献在这个平台上，为开发者提供了很多方便。</li>
<li>如果产品是重交互，轻路径、人脸识别，或者人工智能这样场景的产品，安卓比较好；但是如果产品有更多的机会用到一些复杂算法，则 Ubuntu+ROS 应该是更好的选择。</li>
</ol>
<h1 id="其他机器人系统"><a href="#其他机器人系统" class="headerlink" title="其他机器人系统"></a>其他机器人系统</h1><ul>
<li><a href="http://36kr.com/p/211741.html" target="_blank" rel="noopener">V-sido</a>：日本一家公司开发的系统，做的是类似于ros的事情。</li>
</ul>
<blockquote>
<p>参考资料：<br><a href="http://www.fabiao.net/content-43-2074548-1.html" target="_blank" rel="noopener">基于Android的双目视觉机器人运动平台无线网络控制系统</a><br><a href="http://download.farsight.com.cn/download/pdf/Farsight120317bj-2-Android.pdf" target="_blank" rel="noopener">基于Android机器人–智能家居</a><br><a href="http://v.youku.com/v_show/id_XMTc4MDgxOTg1Ng==.html?f=28518141&amp;o=0" target="_blank" rel="noopener">Ubuntu Core 和SNAP 开发技术介绍</a><br><a href="https://zhuanlan.zhihu.com/p/20769823" target="_blank" rel="noopener">Programming Robots with ROS</a><br><a href="http://www.ncnynl.com/archives/201609/838.html" target="_blank" rel="noopener">ros教程</a><br><a href="http://www.devstore.cn/new/newInfo/19371.html" target="_blank" rel="noopener">机器人开源项目盘点</a></p>
</blockquote>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="https://zltunes.github.io/2018/06/13/robot-operating-system-intro/" data-id="cjimias2m0015s0rk5nt24vxc" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACwUlEQVR42u3awW7bMBAE0P7/T6dATwUSxTO7pJsCTydDsC0+HrirIX/9iq+PP9fT57+vz/c//+rzPz/9z9MYDl94eHh4o6F//5jZ/WSCkvEk0/o4NXh4eHjXeEkxaJfmJ2RSQjZlBg8PD+/n8PLedVN42rYeDw8P7//iJRHD5s4/Lgx4eHh43/KShXsziLxg5P92OGvBw8PDi3n7DbD3f37r/h4eHh5eXBK+X3Bni3gbFufF4IvR4uHh4V3gtdv/p0KH5H678Va8MeDh4eEteEkImx+omhWV2VRG5QQPDw/vAm8f0ebRbfLbzXGuqDzg4eHhrXmbxrf9TtuU52Xj8ft4eHh413jtA3LwBpOEvy9GgoeHh3eB14aqbXzQDmVDehFA4+Hh4V3j5RFAG84mIW/S1g8nCA8PD+8Qbx/gtm13G/7mBePK1hceHh7eAy9/ZPuAWTQ8i0iiGBcPDw/vKG+2HXWqUW4j4CiMwMPDw7vMexGDjpb1dqGfNfGP38TDw8O7wJvFtW2RaItBG0y0h7Tw8PDwTvHatrgNdtuNtPzoVbG/h4eHh7fm7V/7Zwew2pY6J+Hh4eHd5uV/nT9s36C3Y8inBg8PD+8UL19qZ4cM2oMCs4ADDw8P7z28U2WgPV6Q389Lzhf38fDw8C7wZs30qUDhVNMchRF4eHh4h3hJc9xGq/uNsbbFfywzeHh4eG/hzQKCdhusjSSKZGUzW3h4eHjde329YZ9P0KlvrjbY8PDw8A7xPspr00Ang8631uowAg8PD+8Qr215242rZBAJuJ1WPDw8vNu8NiRN+vRNkWhDkBcvAHh4eHjXeMMMY7Rk523xJhrGw8PD+wm82bBmAW4yudF04OHh4f0A3oHjUKMDBLNABA8PD+8erx1i3jq3i/4mFjmQteDh4eEFvP0b/eyQQTu5bUSCh4eHd4H3G1lRSt8zXMsLAAAAAElFTkSuQmCC">分享</a><div class="tags"><a href="/tags/Android/">Android</a><a href="/tags/ROS/">ROS</a><a href="/tags/机器人/">机器人</a></div><div class="post-nav"><a class="pre" href="/2018/06/13/iosapp-certificate-signature/">iOS 程序证书及签名机制</a><a class="next" href="/2018/06/13/dynamic-height-cell/">TableView 动态 cell 高度自适应方案</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNjkyMi8xMzQ1OA=="><script>(function(d, s) {
   var j, e = d.getElementsByTagName(s)[0];
   if (typeof LivereTower === 'function') { return; }
   j = d.createElement(s);
   j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
   j.async = true;
   e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://zltunes.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/sourcecode/" style="font-size: 15px;">源码</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/swichphone/" style="font-size: 15px;">换机</a> <a href="/tags/Messages/" style="font-size: 15px;">Messages</a> <a href="/tags/notification/" style="font-size: 15px;">通知</a> <a href="/tags/JSPatch/" style="font-size: 15px;">JSPatch</a> <a href="/tags/iPhone/" style="font-size: 15px;">iPhone</a> <a href="/tags/dynamic/" style="font-size: 15px;">动态化</a> <a href="/tags/rails/" style="font-size: 15px;">rails</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/ReactiveCocoa/" style="font-size: 15px;">ReactiveCocoa</a> <a href="/tags/ROS/" style="font-size: 15px;">ROS</a> <a href="/tags/机器人/" style="font-size: 15px;">机器人</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/15/rails-tutorial/">使用 rails 打造简洁的 web app</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/reactivecocoa-tutorial/">ReactiveCocoa 入门与登录实战</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/jspatch-swift/">iOS 热更新解读（三）—— JSPatch 之于 Swift</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/jspatch-sourcecode/">iOS 热更新解读（二）—— JSPatch 源码解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/jspatch-apatch&javascriptcore/">iOS 热更新解读（一）APatch & JavaScriptCore</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/13/ios-android-transfer/">iPhone & Android 换机通信方案分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/13/ios10-notification/">iOS 10 通知更新详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/13/ios10-messages-framework/">iOS 10 之 Messages framework</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/13/iosapp-certificate-signature/">iOS 程序证书及签名机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/13/robot-operating-system-intro/">机器人操作系统（ROS/Android）对比</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://dreampiggy.com/" title="小猪的博客" target="_blank">小猪的博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">zltunes.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>